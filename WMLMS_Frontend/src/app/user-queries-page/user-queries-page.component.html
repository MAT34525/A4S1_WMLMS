<div class="container">
  <h1>Search Tracks or Artists</h1>

  <!-- Search Input (keep this one) -->
  <div class="input-group mb-3">
    <input
      type="text"
      class="form-control"
      placeholder="Enter a search query"
      [(ngModel)]="query"
    />
    <button class="btn btn-primary" (click)="performSearch()">Search</button>
  </div>

  <!-- Search Type Toggle (Tracks or Artists) -->
  <div class="mb-3">
    <label>
      <input
        type="radio"
        name="searchType"
        value="tracks"
        [(ngModel)]="searchType"
        checked
      />
      Tracks
    </label>
    <label>
      <input
        type="radio"
        name="searchType"
        value="artists"
        [(ngModel)]="searchType"
      />
      Artists
    </label>
  </div>

  <!-- Search Results (dynamically displays search results based on type) -->
  <div *ngIf="searchResults.length === 0 && query">
    <p>No results found for "{{ query }}"</p>
  </div>

  <!-- Display search results -->
  <ul *ngIf="searchResults.length > 0">
    <li *ngFor="let track of searchResults">
      <button (click)="playTrack(track.TRACK_ID)">
        Play Track {{ track.TRACK_ID }}
      </button>
    </li>
  </ul>

  <!-- Spotify Music Player (shows only if a track is selected) -->
  <div *ngIf="selectedTrackId" class="spotifywrapper">
    <iframe
      style="border-radius:12px"
      [attr.src]="'https://open.spotify.com/embed/track/' + selectedTrackId + '?utm_source=generator&theme=0'"
      width="300"
      height="380"
      allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
      loading="lazy">
    </iframe>
  </div>
</div>
